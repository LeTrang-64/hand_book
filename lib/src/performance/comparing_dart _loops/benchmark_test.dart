
import 'dart:convert';
import 'package:benchmarking/benchmarking.dart';

void main() {
  String? result; // So that the loop isn't optimized out

  var json =
      "{\"latitude\":52.52,\"longitude\":13.419998,\"generationtime_ms\":0.1590251922607422,\"utc_offset_seconds\":0,\"timezone\":\"GMT\",\"timezone_abbreviation\":\"GMT\",\"elevation\":38.0,\"current_weather\":{\"temperature\":13.3,\"windspeed\":15.6,\"winddirection\":40.0,\"weathercode\":3,\"is_day\":1,\"time\":\"2023-04-18T14:00\"},\"hourly_units\":{\"time\":\"iso8601\",\"temperature_2m\":\"Â°C\"},\"hourly\":{\"time\":[\"2023-04-18T00:00\",\"2023-04-18T01:00\",\"2023-04-18T02:00\",\"2023-04-18T03:00\",\"2023-04-18T04:00\",\"2023-04-18T05:00\",\"2023-04-18T06:00\",\"2023-04-18T07:00\",\"2023-04-18T08:00\",\"2023-04-18T09:00\",\"2023-04-18T10:00\",\"2023-04-18T11:00\",\"2023-04-18T12:00\",\"2023-04-18T13:00\",\"2023-04-18T14:00\",\"2023-04-18T15:00\",\"2023-04-18T16:00\",\"2023-04-18T17:00\",\"2023-04-18T18:00\",\"2023-04-18T19:00\",\"2023-04-18T20:00\",\"2023-04-18T21:00\",\"2023-04-18T22:00\",\"2023-04-18T23:00\",\"2023-04-19T00:00\",\"2023-04-19T01:00\",\"2023-04-19T02:00\",\"2023-04-19T03:00\",\"2023-04-19T04:00\",\"2023-04-19T05:00\",\"2023-04-19T06:00\",\"2023-04-19T07:00\",\"2023-04-19T08:00\",\"2023-04-19T09:00\",\"2023-04-19T10:00\",\"2023-04-19T11:00\",\"2023-04-19T12:00\",\"2023-04-19T13:00\",\"2023-04-19T14:00\",\"2023-04-19T15:00\",\"2023-04-19T16:00\",\"2023-04-19T17:00\",\"2023-04-19T18:00\",\"2023-04-19T19:00\",\"2023-04-19T20:00\",\"2023-04-19T21:00\",\"2023-04-19T22:00\",\"2023-04-19T23:00\",\"2023-04-20T00:00\",\"2023-04-20T01:00\",\"2023-04-20T02:00\",\"2023-04-20T03:00\",\"2023-04-20T04:00\",\"2023-04-20T05:00\",\"2023-04-20T06:00\",\"2023-04-20T07:00\",\"2023-04-20T08:00\",\"2023-04-20T09:00\",\"2023-04-20T10:00\",\"2023-04-20T11:00\",\"2023-04-20T12:00\",\"2023-04-20T13:00\",\"2023-04-20T14:00\",\"2023-04-20T15:00\",\"2023-04-20T16:00\",\"2023-04-20T17:00\",\"2023-04-20T18:00\",\"2023-04-20T19:00\",\"2023-04-20T20:00\",\"2023-04-20T21:00\",\"2023-04-20T22:00\",\"2023-04-20T23:00\",\"2023-04-21T00:00\",\"2023-04-21T01:00\",\"2023-04-21T02:00\",\"2023-04-21T03:00\",\"2023-04-21T04:00\",\"2023-04-21T05:00\",\"2023-04-21T06:00\",\"2023-04-21T07:00\",\"2023-04-21T08:00\",\"2023-04-21T09:00\",\"2023-04-21T10:00\",\"2023-04-21T11:00\",\"2023-04-21T12:00\",\"2023-04-21T13:00\",\"2023-04-21T14:00\",\"2023-04-21T15:00\",\"2023-04-21T16:00\",\"2023-04-21T17:00\",\"2023-04-21T18:00\",\"2023-04-21T19:00\",\"2023-04-21T20:00\",\"2023-04-21T21:00\",\"2023-04-21T22:00\",\"2023-04-21T23:00\",\"2023-04-22T00:00\",\"2023-04-22T01:00\",\"2023-04-22T02:00\",\"2023-04-22T03:00\",\"2023-04-22T04:00\",\"2023-04-22T05:00\",\"2023-04-22T06:00\",\"2023-04-22T07:00\",\"2023-04-22T08:00\",\"2023-04-22T09:00\",\"2023-04-22T10:00\",\"2023-04-22T11:00\",\"2023-04-22T12:00\",\"2023-04-22T13:00\",\"2023-04-22T14:00\",\"2023-04-22T15:00\",\"2023-04-22T16:00\",\"2023-04-22T17:00\",\"2023-04-22T18:00\",\"2023-04-22T19:00\",\"2023-04-22T20:00\",\"2023-04-22T21:00\",\"2023-04-22T22:00\",\"2023-04-22T23:00\",\"2023-04-23T00:00\",\"2023-04-23T01:00\",\"2023-04-23T02:00\",\"2023-04-23T03:00\",\"2023-04-23T04:00\",\"2023-04-23T05:00\",\"2023-04-23T06:00\",\"2023-04-23T07:00\",\"2023-04-23T08:00\",\"2023-04-23T09:00\",\"2023-04-23T10:00\",\"2023-04-23T11:00\",\"2023-04-23T12:00\",\"2023-04-23T13:00\",\"2023-04-23T14:00\",\"2023-04-23T15:00\",\"2023-04-23T16:00\",\"2023-04-23T17:00\",\"2023-04-23T18:00\",\"2023-04-23T19:00\",\"2023-04-23T20:00\",\"2023-04-23T21:00\",\"2023-04-23T22:00\",\"2023-04-23T23:00\",\"2023-04-24T00:00\",\"2023-04-24T01:00\",\"2023-04-24T02:00\",\"2023-04-24T03:00\",\"2023-04-24T04:00\",\"2023-04-24T05:00\",\"2023-04-24T06:00\",\"2023-04-24T07:00\",\"2023-04-24T08:00\",\"2023-04-24T09:00\",\"2023-04-24T10:00\",\"2023-04-24T11:00\",\"2023-04-24T12:00\",\"2023-04-24T13:00\",\"2023-04-24T14:00\",\"2023-04-24T15:00\",\"2023-04-24T16:00\",\"2023-04-24T17:00\",\"2023-04-24T18:00\",\"2023-04-24T19:00\",\"2023-04-24T20:00\",\"2023-04-24T21:00\",\"2023-04-24T22:00\",\"2023-04-24T23:00\"],\"temperature_2m\":[6.0,5.7,5.2,4.7,4.4,4.3,5.2,6.7,8.2,8.8,10.4,11.7,11.9,12.6,13.3,13.6,12.6,11.9,10.8,9.8,8.6,7.0,5.8,5.1,4.6,4.0,3.5,3.1,2.7,2.9,4.1,6.1,7.9,9.6,11.0,11.8,11.7,11.2,9.9,7.6,5.9,5.1,5.5,5.5,5.7,5.9,6.1,6.1,6.0,5.8,5.7,5.6,5.6,5.7,6.1,6.6,7.0,7.7,8.6,10.9,14.6,15.5,15.9,15.2,15.2,14.7,13.4,12.1,11.2,10.5,10.0,9.6,9.2,8.8,8.4,8.1,7.8,7.9,9.0,10.7,12.7,14.5,16.0,17.1,17.9,18.2,18.2,17.8,17.0,16.0,14.6,13.5,12.5,11.3,10.6,10.2,9.6,9.0,8.5,8.1,8.0,8.2,9.1,10.6,12.6,15.1,16.4,17.5,18.5,18.7,18.6,18.0,17.3,16.4,15.3,14.8,14.4,13.9,13.6,13.4,13.0,12.6,12.2,11.8,11.8,11.9,12.0,9.1,10.0,11.1,11.9,12.7,13.5,13.9,14.2,14.2,14.0,13.6,12.9,12.3,11.7,10.9,10.6,10.3,9.7,9.0,8.1,7.1,6.8,6.6,6.7,7.1,7.6,8.4,9.0,9.6,10.2,10.7,11.1,11.2,10.9,10.3,9.4,8.8,8.0,7.1,6.6,6.1]}}";

  var decodedJson = jsonDecode(json);

  var neededArray = decodedJson['hourly']['time'];

// This is a "functional" benchmark definition.
// Alternatively, you can define your benchmark as a class, by overriding either SyncBenchmark or AsyncBenchmark.
  syncBenchmark('For needed array', () {
    for (int i = 0; i < neededArray.length; i++) {
      result = neededArray[i];
    }
  }).report(units: neededArray.length); // report() takes an optional argument to report "per unit" performance
  syncBenchmark('Map needed array', () => neededArray.map((item) => result = item)).report(units: neededArray.length);
}